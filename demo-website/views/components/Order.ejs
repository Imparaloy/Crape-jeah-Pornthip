<div class="max-w-6xl mx-auto py-6">
  <h1 class="text-3xl font-bold mb-2">Orders</h1>
  <div class="text-sm text-stone-700 mb-6 space-x-6">
    <span>Total : <%= counters?.total ?? 0 %></span>
    <span>In Process : <%= counters?.inProcess ?? 0 %></span>
    <span>Served : <%= counters?.served ?? 0 %></span>
  </div>

  <div class="flex items-center gap-3 mb-6">
    <a href="/orders?status=all"
       class="inline-flex items-center gap-2 px-4 py-2 rounded-lg border
              <%= activeTab==='all' ? 'bg-amber-200 border-amber-300' : 'bg-white border-stone-200' %>">
      <span class="text-sm font-semibold "><%= counters?.total ?? 0 %></span> All
    </a>
    <a href="/orders?status=in"
       class="inline-flex items-center gap-2 px-4 py-2 rounded-lg border
              <%= activeTab==='in' ? 'bg-amber-200 border-amber-300' : 'bg-white border-stone-200' %>">
      <span class="text-sm font-semibold"><%= counters?.inProcess ?? 0 %></span> In Process
    </a>
    <a href="/orders?status=served"
       class="inline-flex items-center gap-2 px-4 py-2 rounded-lg border
              <%= activeTab==='served' ? 'bg-amber-200 border-amber-300' : 'bg-white border-stone-200' %>">
      <span class="text-sm font-semibold"><%= counters?.served ?? 0 %></span> Served
    </a>
  </div>

  <div class="grid md:grid-cols-2 gap-6">
    <% if (orders && orders.length > 0) { %>
      <% orders.forEach(o => { %>
        <div class="bg-[#FFFBF5] rounded-2xl border border-stone-200 p-6">
          <div class="flex items-center justify-between mb-4">
            <h2 class="text-xl font-semibold">Order #<%= o.id ?? '-' %></h2>

            <% if ((o.status ?? '') === 'Served') { %>
              <span class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-green-600 text-white text-sm">
                <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                </svg>
                Served
              </span>
            <% } else { %>
              <span class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-amber-500 text-white text-sm">
                In Process
              </span>
            <% } %>
          </div>

          <div class="space-y-3 text-stone-800">
            <div class="flex items-center gap-2">
              <span class="text-stone-500">‚è∞</span>
              <span><%= o.time ?? '-' %></span>
            </div>
            <div class="flex items-center gap-2">
              <span class="text-stone-500">$</span>
              <span><%= Number(o.price ?? 0).toFixed(2) %></span>
            </div>
            <div>
              <div class="font-semibold">Base</div>
              <div class="text-stone-700"><%= o.base ?? '-' %></div>
            </div>
            <div>
              <div class="font-semibold">Ingredients</div>
              <div class="text-stone-700"><%= (o.ingredients ?? []).join(", ") %></div>
            </div>
          </div>


          <div class="mt-5">
            <% if ((o.status ?? '') !== 'In Process') { %>
              <button class="w-full rounded-xl border px-4 py-3 bg-amber-100 hover:bg-amber-200">
                Mark as In Process
              </button>
            <% } else { %>
              <button class="w-full rounded-xl border px-4 py-3 bg-green-100 hover:bg-green-200">
                Mark as Served
              </button>
            <% } %>
          </div>
        </div>
      <% }) %>
    <% } else { %>
      <p class="text-stone-500">No orders available.</p>
    <% } %>
  </div>
</div>
